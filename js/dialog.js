const onDialogOutsideClick=e=>{const t=document.querySelector(".dialog");let l=t.getBoundingClientRect();l.top<=e.clientY&&e.clientY<=l.top+l.height&&l.left<=e.clientX&&e.clientX<=l.left+l.width||(document.body.classList.remove("scroll-lock"),t.close())},onPhotoClick=e=>{const t=document.querySelector(".dialog"),l=document.querySelector(".dialog__content");if(e.target.closest(".album__item")){document.body.classList.add("scroll-lock");const o=e.target.closest(".album__item").querySelectorAll(".album__image")[1],c=`\n            <picture class='dialog__image' >\n                <source type="image/webp" srcset=${o.src.replace(".jpg",".webp")}>\n                <img class='dialog__image' src=${o.src} width="200" height="auto" alt=${o.alt} loading="lazy">\n            </picture>\n            `;l.innerHTML=c,t.showModal(),t.addEventListener("click",onDialogOutsideClick),t.addEventListener("close",(()=>{document.body.classList.remove("scroll-lock")}))}},setupModal=()=>{const e=document.querySelector(".album__list");e&&e.addEventListener("click",onPhotoClick)};export{setupModal};